<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../style.css" rel="stylesheet" />
  </head>
  <body class="font-integral-bold">
    <!-- Container for stacking -->
    <div class="stack-container text-center">
      <img class="roster-logo" id="t1rosterlogo" />
      <div class="roster-team uppercase" id="roster-team-1"></div>
      <img
        class="stacked-image"
        src="..\assets\roster\roster_box_blueteam.png"
      />
      <div class="flex flex-row justify-between roles">
        <img id="role1" />
        <img id="role2" />
        <img id="role3" />
        <img id="role4" />
        <img id="role5" />
      </div>

      <div class="font-integral-bold">
        <img id="roster-img-1" />
        <div id="roster-name-1" style="color: white"></div>
      </div>

      <div class="font-integral-bold">
        <img id="roster-img-2" />
        <div id="roster-name-2" style="color: white"></div>
      </div>

      <div class="font-integral-bold">
        <img id="roster-img-3" />
        <div id="roster-name-3" style="color: white"></div>
      </div>

      <div class="font-integral-bold">
        <img id="roster-img-4" />
        <div id="roster-name-4" style="color: white"></div>
      </div>

      <div class="font-integral-bold">
        <img id="roster-img-5" />
        <div id="roster-name-5" style="color: white"></div>
      </div>

      <script>
        retrieveHeroes();
        // Retrieve form data from localStorage
        function retrieveHeroes() {
          var curmatch = localStorage.getItem("curr-match");
          var hero1 = localStorage
            .getItem(`m${curmatch}-p1-character`)
            .replace(/[\s:-]+/g, "");
          var hero2 = localStorage
            .getItem(`m${curmatch}-p2-character`)
            .replace(/[\s:-]+/g, "");
          var hero3 = localStorage
            .getItem(`m${curmatch}-p3-character`)
            .replace(/[\s:-]+/g, "");
          var hero4 = localStorage
            .getItem(`m${curmatch}-p4-character`)
            .replace(/[\s:-]+/g, "");
          var hero5 = localStorage
            .getItem(`m${curmatch}-p5-character`)
            .replace(/[\s:-]+/g, "");

          console.log(hero1);
          var role1 = localStorage.getItem(`m${curmatch}-p1-role`);
          var role2 = localStorage.getItem(`m${curmatch}-p2-role`);
          var role3 = localStorage.getItem(`m${curmatch}-p3-role`);
          var role4 = localStorage.getItem(`m${curmatch}-p4-role`);
          var role5 = localStorage.getItem(`m${curmatch}-p5-role`);

          var name1 = localStorage.getItem(`m${curmatch}-p1-name`);
          var name2 = localStorage.getItem(`m${curmatch}-p2-name`);
          var name3 = localStorage.getItem(`m${curmatch}-p3-name`);
          var name4 = localStorage.getItem(`m${curmatch}-p4-name`);
          var name5 = localStorage.getItem(`m${curmatch}-p5-name`);

          var t1logo = localStorage.getItem(`m${curmatch}-team1-logo`);
          var logo = document.getElementById("t1rosterlogo");
          logo.src = t1logo;

          var t1name = localStorage.getItem(`m${curmatch}-team1-name`);
          var t1div = document.getElementById("roster-team-1");
          t1div.innerHTML = t1name;

          var h1 = document.getElementById("roster-img-1");
          var h2 = document.getElementById("roster-img-2");
          var h3 = document.getElementById("roster-img-3");
          var h4 = document.getElementById("roster-img-4");
          var h5 = document.getElementById("roster-img-5");

          var i1 = document.getElementById("role1");
          var i2 = document.getElementById("role2");
          var i3 = document.getElementById("role3");
          var i4 = document.getElementById("role4");
          var i5 = document.getElementById("role5");
          if (localStorage.getItem("game") == "lol") {
            var path = "..\\assets\\league_champs\\";
            var iconpath = "..\\assets\\roster\\icons\\lol\\";
          } else if (localStorage.getItem("game") == "ow2") {
            hero1 = hero1.toUpperCase();
            hero2 = hero2.toUpperCase();
            hero3 = hero3.toUpperCase();
            hero4 = hero4.toUpperCase();
            hero5 = hero5.toUpperCase();
            var path = "..\\assets\\ow_heroes\\";
            var iconpath = "..\\assets\\roster\\icons\\ow\\";
          } else if (localStorage.getItem("game") == "val") {
            hero1 = hero1.toLowerCase();
            hero2 = hero2.toLowerCase();
            hero3 = hero3.toLowerCase();
            hero4 = hero4.toLowerCase();
            hero5 = hero5.toLowerCase();
            var path = "..\\assets\\val_agents\\";
            var iconpath = "..\\assets\\roster\\icons\\val\\";
          }

          h1.src = path + hero1 + ".png";
          h2.src = path + hero2 + ".png";
          h3.src = path + hero3 + ".png";
          h4.src = path + hero4 + ".png";
          h5.src = path + hero5 + ".png";

          i1.src = iconpath + role1 + ".png";
          i2.src = iconpath + role2 + ".png";
          i3.src = iconpath + role3 + ".png";
          i4.src = iconpath + role4 + ".png";
          i5.src = iconpath + role5 + ".png";

          var n1 = document.getElementById("roster-name-1");
          n1.innerHTML = name1;

          var n2 = document.getElementById("roster-name-2");
          n2.innerHTML = name2;

          var n3 = document.getElementById("roster-name-3");
          n3.innerHTML = name3;

          var n4 = document.getElementById("roster-name-4");
          n4.innerHTML = name4;

          var n5 = document.getElementById("roster-name-5");
          n5.innerHTML = name5;
        }
        setInterval(function () {
          retrieveHeroes();
        }, 1 * 1000);
      </script>
    </div>
  </body>
</html>
